``````````<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <title>Room</title>
    <meta name="description" content="Website used to share audio files feeding into the same player.">
    <meta name="authors" content="Huzaifa Khan, Ian Hudson">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css" type="text/css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <link rel="stylesheet" href="./room.css" type="text/css">

</head>

<body>
    <h1 id="title">Shared Audio</h1>
    
    <!--Creating room part-->
    <div id="holder">
        <button type="button" id="create_button" class="switch disabled" onclick="creating()">Create</button>
        <button type="button" id="join_button" class="switch enabled" onclick="joining()">Join</button>
    </div>
    <br />
    <br />
    <div class="container">
        <h2 id="mode">Create Room</h2>

        <label class="main_form" for="room_name">Upload File</label>
        <input type="file" id="song_byte">
        <button id="enqueue_file" onclick="enqueue()">Send it</button>
        <br />
        

        <audio controls>
            <!-- <source src="horse.ogg" type="audio/ogg"> -->
            <!-- <source src="horse.mp3" type="audio/mpeg"> -->
            <!-- Your browser does not support the audio element. -->
        </audio>
        <form style="visibility: hidden;">
            <label class="main_form" for="room_name">Room Name</label>
            <br />
            <input class="main_form" type="text" id="rName" name="rName" placeholder="Room Name">
            <br />
            <label class="main_form" for="user_name">User ID</label>
            <br />
            <input class="main_form" type="text" id="uName" name="uName" placeholder="Smith">
            <br />
        </form>
        <button style="opacity: 0;" id="enter_room" name="enter_room" onclick="enter()">Enter</button>

        <!-- TESTING FILE UPLOAD -->
        <!-- https://codeforgeek.com/ajax-file-upload-node-js/ -->
        <!-- Need to upload without refreshing page so socket doesn't get messed up. Use jquery-->
        <form id="uploadForm" method="POST" action="/upload-song" enctype="multipart/form-data">
            <div>
                <label>Select song:</label>
                <input type="file" name="song" />
            </div>
            <div>
                <input type="submit" name="btn_upload_song" value="Upload" />
            </div>
        </form>

        <div id="status">idunno</div>

        <script>
            $(document).ready(function() {
                $('#uploadForm').submit(function() {
                    $("#status").empty().text("File is uploading...");

                    $(this).ajaxSubmit({
                        error: function(xhr) {
                            status('Error: ' + xhr.status);
                        },
                        success: function(response) {
                            $("#status").empty().text(response);
                            console.log(response);
                        }
                    });

                    //Very important line, it disable the page refresh.
                    return false;
                });    
            });
          </script>
        <!-- TESTING FILE UPLOAD -->
    
        <button style="visibility: hidden;" id="enter_room" name="enter_room" onclick="enter()">Enter</button>
    </div>
    <script src="./room.js"></script>
    </body>
    </html>